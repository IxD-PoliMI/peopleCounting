<<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Webcam JS</title>
	<link rel="shortcut icon" href="a.jpg">
	<style>
		#cam{
			border: solid;
			border-radius: 9px;
		    width: 320px;
		    height: 240px;
		    border: 1px solid black;
		}
		#btn{
			background: white;
			border: solid;
			border-radius: 8px;
			margin: 1vh;
			font-size: 3vh;
		}
		#photo{
			border-radius: 9px;
		}
	</style>

	<script type="text/javascript" src="webcam.js"></script>
	</head>
<body>
	<center>
	<div id="cam"></div>
	<button id="btn" onclick="copc()">Take Snapshot</button> 
	<div id="photo"></div>
	</center>
	<script>
	 Webcam.set({
	     width: 320,
	     height: 240,
	     image_format: 'jpeg',
	     jpeg_quality: 90
	 });
	 Webcam.attach('#cam');
	
	function copc() {
	   Webcam.snap( function(data_uri) {
	      document.getElementById('photo').innerHTML = 
	          '<img src="'+data_uri+'"/>';
	    });
	}
	</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Browser inference demo</title>

    <style>
        #features {
            width: 50%;
            font-size: 18px;
        }

        #results {
            font-family: monospace;
            white-space: pre;
        }
    </style>

    <p>
        <input type="text" id="features" placeholder="Paste your features here">
    </p>
    <p>
        <button id="run-inference">Run inference</button>
    </p>
    <p id="results"></p>

    <script src="edge-impulse-standalone.js"></script>
    <script src="run-impulse.js"></script>
    <script>
        (async () => {
            var classifier = new EdgeImpulseClassifier();
            await classifier.init();

            let project = classifier.getProjectInfo();
            document.querySelector('h1').textContent = project.owner + ' / ' + project.name + ' (version ' + project.deploy_version + ')';

            document.querySelector('#run-inference').onclick = () => {
                try {
                    let features = document.querySelector('#features').value.split(',').map(x => Number(x.trim()));
                    let res = classifier.classify(features);
                    document.querySelector('#results').textContent = JSON.stringify(res, null, 4);
                }
                catch (ex) {
                    alert('Failed to classify: ' + (ex.message || ex.toString()));
                }
            };
        })();
    </script>
</body>
</html>
